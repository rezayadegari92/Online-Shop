<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"><title>Brand Products</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-4">
  <button class="btn btn-link" onclick="history.back()">← Back</button>
  <h2 id="brand-name">Brand Products</h2>
  <div id="bplist"></div>
  <nav><ul id="bp-pg" class="pagination"></ul></nav>
</div>
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script>
  const token = localStorage.getItem('access_token');
  const bid = new URLSearchParams(location.search).get('id');
  const base = `/api/brands/${bid}/products/`;

  function load(url=base) {
    $.ajax({ url, headers:{'Authorization':'Bearer '+token}, success: render });
  }

  function render(d){
    $('#bplist').empty();
    d.results.forEach(p=>{
      $('#bplist').append(`
        <div>
          <a href="product_detail.html?id=${p.id}">${p.name}</a> — $${p.final_price}
        </div>
      `);
    });
    // pagination similar to above
  }

  $(load);
</script>
</body>
</html>
